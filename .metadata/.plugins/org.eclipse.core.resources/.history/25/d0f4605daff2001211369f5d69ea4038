/*
 * AudioStorage.cpp
 *
 *  Created on: Jul 11, 2013
 *      Author: oek
 */

#include "AudioStorage.h"
#include <iostream>

int
AudioStorage::LoadFile(Tag association, char* path) {
	std::cout << "Load file" << std::endl;
	icstdsp::AudioFile* add = new icstdsp::AudioFile();
	add->Load(path);

	files[association] = add;
	return 0;
}

float*
AudioStorage::GetData(Tag association) {

	icstdsp::AudioFile *data = files[association];
	std::cout << "GetData: " << std::endl;
	if (data == 0)
		return 0;
	return data->GetSafePt();
}

uint32_t
AudioStorage::GetSize(Tag association) {

	icstdsp::AudioFile *data = files[association];
	if (data == 0)
		return 0;
	return (uint32_t)data->GetSize();
}

uint32_t
AudioStorage::GetSampleRate(Tag association) {

	icstdsp::AudioFile *data = files[association];
	if (data == 0)
		return 0;
	return (uint32_t)data->GetRate();
}

